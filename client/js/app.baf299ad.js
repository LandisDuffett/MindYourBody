(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1a12":function(t,e,s){},"2cda":function(t,e,s){"use strict";var a=s("e482"),i=s.n(a);i.a},3818:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"myVideo bg-dark text-info"},[s("div",{staticClass:"col-12"},["inviter"==t.playerClass?s("p",[t._v("\n      My Link:\n      "),s("br"),t._v(" "),s("textarea",{staticClass:"bg-dark text-info",staticStyle:{width:"-webkit-fill-available",height:"auto",border:"none",overflow:"scroll","text-align":"center"},attrs:{type:"text",readonly:""},domProps:{value:t.link}}),t._v(" "),s("br"),t._v("My Room:\n      "),s("br"),t._v(" "),s("input",{staticClass:"bg-dark text-info",staticStyle:{width:"-webkit-fill-available",height:"auto",border:"none","text-align":"center"},attrs:{type:"text",readonly:""},domProps:{value:t.room}})]):t._e()]),t._v(" "),s("div",{staticClass:"col-12"},[s("h4",{staticClass:"my-0"},[s("span",{staticClass:"badge badge-dark text-light text-truncate",staticStyle:{width:"-webkit-fill-available"}},[t._v(t._s(t.me))])])]),t._v(" "),s("div",{staticClass:"col-12 d-flex controls",staticStyle:{"justify-content":"center"}},[t.videoStream?s("svg",{staticClass:"col-2 bi bi-camera-video-off",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleVideoPlay("myVideo")}}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M10.961 12.365a1.99 1.99 0 0 0 .522-1.103l3.11 1.382A1 1 0 0 0 16 11.731V4.269a1 1 0 0 0-1.406-.913l-3.111 1.382A2 2 0 0 0 9.5 3H4.272l.714 1H9.5a1 1 0 0 1 1 1v6a1 1 0 0 1-.144.518l.605.847zM1.428 4.18A.999.999 0 0 0 1 5v6a1 1 0 0 0 1 1h5.014l.714 1H2a2 2 0 0 1-2-2V5c0-.675.334-1.272.847-1.634l.58.814zM15 11.73l-3.5-1.555v-4.35L15 4.269v7.462zm-4.407 3.56l-10-14 .814-.58 10 14-.814.58z"}})]):s("svg",{staticClass:"col-2 bi bi-camera-video",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleVideoPlay("myVideo")}}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5zm11.5 5.175l3.5 1.556V4.269l-3.5 1.556v4.35zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2z"}})]),t._v(" "),t.audioStream?s("svg",{staticClass:"col-2 bi bi-mic-mute",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleAudioMuted("myVideo")}}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M12.734 9.613A4.995 4.995 0 0 0 13 8V7a.5.5 0 0 0-1 0v1c0 .274-.027.54-.08.799l.814.814zm-2.522 1.72A4 4 0 0 1 4 8V7a.5.5 0 0 0-1 0v1a5 5 0 0 0 4.5 4.975V15h-3a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-3v-2.025a4.973 4.973 0 0 0 2.43-.923l-.718-.719zM11 7.88V3a3 3 0 0 0-5.842-.963l.845.845A2 2 0 0 1 10 3v3.879l1 1zM8.738 9.86l.748.748A3 3 0 0 1 5 8V6.121l1 1V8a2 2 0 0 0 2.738 1.86zm4.908 3.494l-12-12 .708-.708 12 12-.708.707z"}})]):s("svg",{staticClass:"col-2 bi bi-mic",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleAudioMuted("myVideo")}}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"}}),t._v(" "),s("path",{attrs:{"fill-rule":"evenodd",d:"M10 8V3a2 2 0 1 0-4 0v5a2 2 0 1 0 4 0zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3z"}})]),t._v(" "),t.PIP?s("svg",{staticClass:"col-2 bi bi-window",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.togglePIP("myVideo")}}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M14 2H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zM2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z"}}),t._v(" "),s("path",{attrs:{"fill-rule":"evenodd",d:"M15 6H1V5h14v1z"}}),t._v(" "),s("path",{attrs:{d:"M3 3.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm1.5 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm1.5 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"}})]):s("svg",{staticClass:"col-2 bi bi-pip",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",role:"img",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.togglePIP("myVideo")}}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"}}),t._v(" "),s("path",{attrs:{d:"M8 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-3z"}})]),t._v(" "),s("svg",{staticClass:"col-2 bi bi-fullscreen",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleFullScreen("myVideo")}}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"}})]),t._v(" "),s("svg",{staticClass:"col-2 bi bi-camera-reels",attrs:{width:"1.3em",height:"1.3em",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:t.toggleCamera}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M0 8a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 7.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 16H2a2 2 0 0 1-2-2V8zm11.5 5.175l3.5 1.556V7.269l-3.5 1.556v4.35zM2 7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H2z"}}),t._v(" "),s("path",{attrs:{"fill-rule":"evenodd",d:"M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}),t._v(" "),s("path",{attrs:{"fill-rule":"evenodd",d:"M9 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}})])]),t._v(" "),s("div",{staticStyle:{"justify-content":"center"}},[s("video",{staticClass:"col-12 mt-0 pt-0",attrs:{autoplay:"true",id:"myVideo",muted:"",poster:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fi3pHUtmHiLd28%2Fgiphy.gif&f=1&nofb=1"},domProps:{muted:!0}})])])},i=[],n={name:"myVideo",data(){return{videoStream:!0,audioStream:!0,PIP:!1,me:this.$auth.user.name,link:window.stream.myLink,room:window.stream.myId,playerClass:window.stream.class,shouldFaceUser:!0}},computed:{},methods:{capture(){let t={audio:!0,video:!0};t.video={facingMode:this.shouldFaceUser?"user":"environment"},console.log(t),navigator.mediaDevices.getUserMedia(t).then((function(t){stream.localStream=t,document.getElementById("myVideo").srcObject=stream.localStream,document.getElementById("myVideo").play()})).catch((function(t){console.log(t)}))},toggleCamera(){if(null==stream.localStream)return;let t=navigator.mediaDevices.getSupportedConstraints();t["facingMode"]?(stream.localStream.getTracks().forEach(t=>{t.stop()}),this.shouldFaceUser=!this.shouldFaceUser,this.capture()):swal("Your Device Doesn't Support This Feature.",{timer:2e3})},toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.getElementById("myVideo").requestFullscreen()},toggleVideoPlay(t){stream.localStream.getVideoTracks()[0].enabled=!stream.localStream.getVideoTracks()[0].enabled,this.videoStream=!this.videoStream},toggleAudioMuted(t){stream.localStream.getAudioTracks()[0].enabled=!stream.localStream.getAudioTracks()[0].enabled,this.audioStream=!this.audioStream},togglePIP(t){let e=document.getElementById(t);if(document.pictureInPictureEnabled&&!e.disablePictureInPicture)try{document.pictureInPictureElement?(document.exitPictureInPicture(),this.PIP=!1):this.PIP=!0,e.requestPictureInPicture()}catch(s){console.error(s)}}},beforeDestroy(){},beforeMount(){},components:{}},o=n,r=s("2877"),l=Object(r["a"])(o,a,i,!1,null,"006912c8",null);e["a"]=l.exports},"54dc":function(module,__webpack_exports__,__webpack_require__){"use strict";var _components_exercise__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("aa36"),_components_answer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ae05"),_components_question__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("b01c"),_components_endgame__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("6248"),_components_inviter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("c79b"),_components_invitee__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("fe14"),_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a18c");__webpack_exports__["a"]={name:"game",data(){return{answer:!1,exercise:!1,end:!1,showQuestion:!1,inviter:!1,invitee:!1,displayStart:!1}},computed:{},methods:{async login(){await this.$auth.loginWithPopup().then(()=>{this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")})},startGame(){this.showQuestion=!0,window.sessionStorage.sequence="showQuestion",this.displayStart=!1},workoutcomplete(t){this.exercise=!1,window.sessionStorage.sequence="answer",this.answer=!0},workout(t){this.showQuestion=!1,window.sessionStorage.sequence="exercise",this.exercise=!0},endgame(t){this.answer=!1,window.sessionStorage.sequence="end",this.end=!0},async init(t){this.end=!1,this.showQuestion=!1,this.exercise=!1,window.stream.class?"invitee"==window.stream.class?(setTimeout(t=>{window.stream.connection.send({class:"inviteeReady"})}),this.displayStart=!0):"inviter"==window.stream.class&&await this.begin():this.begin()},async begin(){await this.$store.dispatch("getExercise");let t=this.$store.state.subject,e=this.$store.state.level,s=[],a=this.$store.state.triviaToken;const i=await fetch(`https://opentdb.com/api.php?amount=1&category=${t}&difficulty=${e}&type=multiple&token=${a}`);let n=await i.json();n=n.results[0];for(let o in n)Array.isArray(n[o])?n[o].forEach((t,e,s)=>{s[e]=t}):n[o]=n[o];if(s=n.incorrect_answers,s.push(n.correct_answer),s.forEach((t,e,s)=>{let a=Math.floor(s.length*Math.random()),i=s[a];s[a]=t,s[e]=i}),n.incorrect_answers=s,this.$store.commit("setTrivia",n),window.sessionStorage.trivia=JSON.stringify(n),stream.class){if(window.stream.connection.open){let t={class:"replay",trivia:this.$store.state.trivia,exercise:this.$store.state.exercise};window.stream.connection.send(t)}}else this.showQuestion=!0,sessionStorage.sequence="showQuestion"}},beforeCreate(){console.log("IN BC")},async beforeMount(){console.log("IN BM"),window.sessionStorage.sequence&&eval(`this.${sessionStorage.sequence} = true`);let loc=window.location.href.split("/"),player=loc[loc.length-1];if("invitee"==player){if(this.$auth.isAuthenticated){window.stream=new Object,window.stream.class="invitee",window.stream.peerId=loc[loc.length-2];let t=(Math.random().toString(36)+"0000000000000000000").substr(2,16);window.stream.myId=t,this.display="col-md-8",this.invitee=!0,this.displayStart=!0}}else"inviter"==player?(this.inviter=!0,this.begin(),this.display="col-md-8"):(sessionStorage.class=!1,this.display="col-12",this.begin())},beforeDestroy(){},components:{Exercise:_components_exercise__WEBPACK_IMPORTED_MODULE_0__["a"],Answer:_components_answer__WEBPACK_IMPORTED_MODULE_1__["a"],Question:_components_question__WEBPACK_IMPORTED_MODULE_2__["a"],Endgame:_components_endgame__WEBPACK_IMPORTED_MODULE_3__["a"],Inviter:_components_inviter__WEBPACK_IMPORTED_MODULE_4__["a"],Invitee:_components_invitee__WEBPACK_IMPORTED_MODULE_5__["a"]}}},"568f":function(t,e,s){"use strict";var a=s("c457"),i=s.n(a);i.a},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"background-color":"black"},attrs:{id:"app"}},[s("navbar"),t._v(" "),s("router-view")],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar gameFont navbar-expand-lg mb-1 text-dark font-weight-bold",staticStyle:{"border-bottom":"solid 2px white","background-image":"radial-gradient(white, gray, black)"}},[s("router-link",{staticClass:"navbar-brand",staticStyle:{"font-size":"2.5rem",color:"rgb(0, 0, 206)"},attrs:{to:{name:"home"}}},[t._v("MYB")]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[s("ul",{staticClass:"navbar-nav mr-auto align-content-center"},[s("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),s("li",{staticClass:"nav-item"},[s("Leader")],1),t._v(" "),s("li",{staticClass:"nav-item"},[s("about")],1),t._v(" "),s("li",{staticClass:"nav-item"},[t.$auth.isAuthenticated?s("Profile"):t._e()],1),t._v(" "),"/"!=t.$route.path?s("li",{staticClass:"nav-item mr-3",class:{active:"home"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Quit")])],1):t._e()]),t._v(" "),t.$auth.isAuthenticated?s("div",{staticStyle:{"margin-top":"auto","margin-right":"37vw",color:"blue"}},[t.points?s("h4",[t._v("\n        Total Points:\n        "),s("span",{staticClass:"text-success"},[t._v(t._s(t.points))])]):s("h4",[t._v("Total Points: 0")])]):t._e(),t._v(" "),s("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-dark text-info",on:{click:t.logout}},[t._v("logout")]):s("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler btn btn-outline-info pb-1",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",[s("i",{staticClass:"fa fa-bars fa-2x",attrs:{"aria-hidden":"true"}})])])}],l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#aboutmodal"}},[t._v("About")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"aboutmodal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title text-success",attrs:{id:"aboutmodal"}},[t._v("Directions")])]),t._v(" "),s("div",{staticClass:"modal-body text-justify text-light"},[s("p",[t._v("Welcome to 'Mind Your Body', the total app for the whole person. Press 'start' to receive a question that tests your knowledge. When you are ready, press 'start exercise' and you will be given an routine. While you exercise, consider the answer to the question. When you finish the exercise, press 'complete' and choose the best answer to your question. A right answer earns you 5 points for an easy question, 10 points for an intermediate question, and 20 points for a difficult question. You may change the exercise before beginning. Repeat as many times as you like for a full workout of both your body and your brain.")])]),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])}],d={name:"about",data(){return{}},computed:{},methods:{},components:{}},u=d,m=s("2877"),h=Object(m["a"])(u,l,c,!1,null,"590736cb",null),v=h.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#leaderboardmodal"}},[t._v("Leaderboard")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"leaderboardmodal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content bg-dark leaderFont"},[s("h5",{staticClass:"modal-title",attrs:{id:"leaderboardmodal"}}),t._v(" "),t._m(0),t._v(" "),s("h3",[s("ol",t._l(t.leaders,(function(e){return s("div",{key:e.id,attrs:{leader:e}},[s("div",{staticClass:"card bg-light text-dark mr-5"},[s("div",{staticClass:"d-flex pt-2",staticStyle:{"justify-content":"space-between"}},[s("div",[s("h5",[s("span",{staticClass:"ml-2"},[t._v(t._s(e.name))])])]),t._v(" "),s("div",{staticClass:"mr-3"},[s("h5",[s("span",{staticClass:"text-success"},[t._v(t._s(e.points))])])])])])])})))]),t._v(" "),s("button",{staticClass:"btn btn-success mx-4 mb-2",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-body text-success"},[s("b",[t._v("TOP POINT EARNERS")])])}],_={name:"Leader",mounted(){},computed:{leaders(){return this.$store.state.leaders},points(){return this.$store.state.currentPlayer.points}},methods:{},components:{}},w=_,f=Object(m["a"])(w,p,g,!1,null,null,null),b=f.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#profileModal"}},[t._v("Stats")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"profileModal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog p-lg-5",staticStyle:{"min-width":"-webkit-fill-available"},attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("h2",{staticClass:"p-2"},[s("b",{staticClass:"text-info"},[t._v(t._s(t.playerStats.name))])]),t._v(" "),s("h3",{staticClass:"p-2 text-light"},[t._v("\n            Total Points:\n            "),s("b",{staticClass:"text-success"},[t._v(t._s(t.playerStats.points))])]),t._v(" "),s("h5",{staticClass:"p-1 text-light"},[t._v("\n            Question Streak:  \n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.streak))]),t._v(" /\n            "),s("span",{staticClass:"text-warning"},[t._v("5")]),t._v(" Questions Correct\n          ")]),t._v(" "),s("h5",{staticClass:"p-1 text-light"},[t._v("\n            MEGA-Streak:  \n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.megaStreak))]),t._v(" /\n            "),s("span",{staticClass:"text-warning"},[t._v("5")]),t._v(" Streaks Complete\n          ")]),t._v(" "),s("table",{staticClass:"table mt-5"},[t._m(1),t._v(" "),s("tbody",t._l(t.playerStats.categoryStats,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-info"},[t._v(t._s(e.category))]),t._v(" "),s("td",{staticClass:"text-danger"},[t._v(t._s(e.attempted))]),t._v(" "),s("td",{staticClass:"text-success"},[t._v(t._s(e.correct))]),t._v(" "),s("td",{staticClass:"text-warning",staticStyle:{"white-space":"nowrap"}},[t._v(t._s(Math.trunc(e.correct/e.attempted*100))+" %")])])})))])]),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title text-success",attrs:{id:"exampleModalLabel"}},[t._v("Profile Stats")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Categories")]),t._v(" "),s("th",[t._v("Attempted")]),t._v(" "),s("th",[t._v("Correct")]),t._v(" "),s("th",[t._v("%")])])])}],k={name:"profile",data(){return{}},computed:{playerStats(){return this.$store.state.currentPlayer},categoryLibrary(){return this.$store.state.categoryLibrary}},methods:{},components:{}},x=k,S=Object(m["a"])(x,y,C,!1,null,"3d50a3f9",null),E=S.exports,$=s("bc3a"),P=s.n($);P.a.create({baseURL:"https://localhost:3000",withCredentials:!0});var M={name:"Navbar",data(){return{player:this.$store.state.currentPlayer}},mounted(){this.$store.dispatch("getLeaders")},computed:{points(){return this.$store.state.currentPlayer.points}},methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){await this.$auth.logout({returnTo:window.location.origin})}},components:{about:v,Leader:b,Profile:E}},T=M,I=(s("5dfc"),Object(m["a"])(T,o,r,!1,null,null,null)),A=I.exports,F=s("335d"),O=(s("1940"),s("a0bc"),{name:"App",async beforeCreate(){await Object(F["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:A},methods:{}}),j=O,L=(s("5c0b"),Object(m["a"])(j,i,n,!1,null,null,null)),D=L.exports,V=s("a18c"),R=s("2f62");let z=location.host.includes("localhost")?"http://localhost:3000/":"/";const B=P.a.create({baseURL:z+"api",timeout:3e3,withCredentials:!0});var N={actions:{getAnswer({commit:t,dispatch:e,state:s}){return s.answer}}},q={actions:{async getExercise({commit:t,dispatch:e}){try{let e=await B.get("/exercises/random");return t("setExercise",e.data[0]),sessionStorage.exercise=JSON.stringify(e.data[0]),e.data[0]}catch(s){console.error(s)}}}},U={actions:{async loadLeaders({commit:t,dispatch:e,state:s}){let a=await B.get("players/gettop");t("setLeaders",a.data)},getLeaders({commit:t,dispatch:e,state:s}){return s.leaders}}},W={actions:{setLevel({commit:t,dispatch:e,state:s},a){t("setLevel",a)}}},Y={actions:{setSubject({commit:t,dispatch:e,state:s},a){t("setSubject",a)}}},H={actions:{getTrivia({commit:t,dispatch:e,state:s}){return s.trivia}}};a["a"].use(R["a"]);var G=new R["a"].Store({state:{trivia:sessionStorage.trivia||{},exercise:sessionStorage.exercise||{},profile:sessionStorage.profile||{},leaders:sessionStorage.leaders||[],user:{},currentPlayer:sessionStorage.currentPlayer||{},roundComplete:!1,inviteeReady:!1,level:sessionStorage.level||null,subject:sessionStorage.subject||null,answer:null,triviaToken:sessionStorage.triviaToken||""},mutations:{setRoundComplete(t,e){t.roundComplete=e,sessionStorage.roundComplete=e},setInviteeReady(t,e){t.inviteeReady=e,sessionStorage.inviteeReady=e},setProfile(t,e){t.profile=e,sessionStorage.profile=JSON.stringify(e)},setExercise(t,e){t.exercise=e},setSubject(t,e){t.subject=e,sessionStorage.subject=e},setLevel(t,e){t.level=e,sessionStorage.level=e},setTrivia(t,e){t.trivia=e},setLeaders(t,e){t.leaders=e,sessionStorage.leaders=JSON.stringify(e)},setCurrentPlayer(t,e){t.currentPlayer=e,sessionStorage.currentPlayer=JSON.stringify(e)},setTriviaToken(t,e){t.triviaToken=e,sessionStorage.triviaToken=e}},actions:{setBearer({},t){B.defaults.headers.authorization=t},resetBearer(){B.defaults.headers.authorization=""},async getProfile({commit:t,dispatch:e,state:s}){try{let s=await B.get("/profile");await t("setProfile",s.data),e("getCurrentPlayer")}catch(a){console.error(a)}},roundCompleted({commit:t},e){t("setRoundComplete",e)},inviteeReady({commit:t},e){t("setInviteeReady",e)},triviaToken({commit:t},e){t("setTriviaToken",e)},inviteeExercise({commit:t},e){t("setExercise",e)},inviteeTrivia({commit:t},e){t("setTrivia",e)},async getCurrentPlayer({commit:t,dispatch:e,state:s}){try{let e=await B.get("players/"+s.profile.id);t("setCurrentPlayer",e.data)}catch(a){e("newPlayer",{id:s.profile.id,name:s.profile.name}),console.error(a)}},async newPlayer({commit:t,dispatch:e,state:s},a){try{let e=await B.post("players",{name:a.name,points:0,profileId:a.id,prevDate:0,dayStreak:0,dayStreakCount:0,streak:0,megaStreak:0,categoryStats:[]});t("setCurrentPlayer",e.data)}catch(i){console.error(i)}},async getPoints({commit:t,dispatch:e,state:s},a){try{let t=await B.get("players/"+a.id);e("updatePoints",{id:a.id,oldPoints:t.data.points,newPoints:a.points,streak:a.streak,megaStreak:a.megaStreak,categoryStats:[{category:a.category,correct:a.correct,attempted:a.attempted}]})}catch(i){console.error(i)}},async addStreak({commit:t,dispatch:e,state:s},a){try{await B.put("players/"+a.profileId,a);e("getCurrentPlayer")}catch(i){console.error(i)}},async updatePoints({commit:t,dispatch:e,state:s},a){try{await B.put("players/"+a.id,{points:a.oldPoints+a.newPoints,streak:a.streak,megaStreak:a.megaStreak});e("loadLeaders"),e("getCurrentPlayer")}catch(i){console.error(i)}},async updateCategoryStats({commit:t,dispatch:e,state:s},a){try{await B.put("players/"+a.profileId,{categoryStats:a.categoryStats});e("getCurrentPlayer")}catch(i){console.error(i)}}},modules:{answer:N,exercise:q,leaders:U,level:W,subject:Y,trivia:H}});const Q="oliverjones.us.auth0.com",K="https://mindyourbody.com",J="9Hfr9hkjFCWiEwb0A9YmKNkh1fXJG83p";a["a"].use(F["a"],{domain:Q,clientId:J,audience:K,onRedirectCallback:t=>{V["a"].push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new a["a"]({router:V["a"],store:G,render:function(t){return t(D)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),i=s.n(a);i.a},"5ced":function(t,e,s){},"5dfc":function(t,e,s){"use strict";var a=s("1a12"),i=s.n(a);i.a},"5e11":function(t,e){function s(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}s.keys=function(){return[]},s.resolve=s,t.exports=s,s.id="5e11"},"5f9b":function(t,e,s){t.exports=s.p+"img/home2.73746289.gif"},6248:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"gameFont text-light",staticStyle:{"min-height":"100vh"}},[a("h1",{staticClass:"mt-4"},[t._v("End of Round")]),t._v(" "),t.answer?a("h3",[t._v("\n    You just earned "+t._s(t.points)+" points!\n    "),a("img",{staticClass:"simpleEntrance",staticStyle:{width:"10%","border-radius":"100%"},attrs:{src:s("d7dc"),id:"endCoin"}}),t._v(" "),a("span",{staticClass:"blazingStarText"},[t._v("X "+t._s(t.points))])]):a("div",[a("h3",[t._v("No points this round.")]),t._v(" "),"inviter"==t.playerClass&&t.inviteeCompleted||!t.playerClass?a("img",{staticStyle:{width:"10%","border-radius":"50%"},attrs:{src:s("d500")},on:{click:function(e){t.startPlay()}}}):a("img",{staticStyle:{width:"10%","border-radius":"50%"},attrs:{src:s("d500")}})]),t._v(" "),this.answerStreakEarned?a("h3",[t._v("\n    You earned 20 points for a 5-question streak!\n    "),a("img",{staticStyle:{width:"15rem"},attrs:{src:s("95b0")}})]):t._e(),t._v(" "),this.dayStreakEarned?a("h3",[t._v("\n    You earned 20 points for a 5-day streak!\n    You have played "+t._s(t.days)+" days in a row!\n    "),a("img",{staticStyle:{width:"15rem"},attrs:{src:s("95b0")}})]):t._e(),t._v(" "),this.megaStreakEarned?a("h3",[t._v("\n    You earned 100 points for a MEGA-Streak!\n    "),a("img",{staticStyle:{width:"15rem"},attrs:{src:s("95b0")}})]):t._e(),t._v(" "),"invitee"!=t.playerClass?a("div",[a("Selector",{key:"select_home",on:{setTopic:function(e){t.setParams(e)}}})],1):t._e(),t._v(" "),a("div",{staticClass:"row mt-3",staticStyle:{"justify-content":"space-evenly"}},[a("div",{staticClass:"col-5"},["inviter"==t.playerClass&&t.inviteeCompleted||!t.playerClass?a("button",{staticClass:"btn btn-block btn-outline-danger bg-dark py-2",on:{click:function(e){t.startPlay()}}},[t._v("PLAY AGAIN")]):a("button",{staticClass:"btn btn-block btn-outline-danger bg-dark py-2"},[t._v("\n        Awaiting Friend To Finish Their Round...  \n        "),a("i",{staticClass:"fa fa-spinner fa-spin",staticStyle:{"font-size":"1.3rem",color:"blue"}})])]),t._v(" "),a("div",{staticClass:"col-5"},[a("button",{staticClass:"btn btn-block btn-outline-danger bg-dark py-2",on:{click:function(e){t.quit()}}},[t._v("QUIT FOR NOW")])])])]):t._e()},i=[],n=s("a18c"),o=s("9773"),r={name:"endgame",data(){return{subject:this.$store.state.subject,category:this.$store.state.trivia.category,level:this.$store.state.level,player:this.$store.state.currentPlayer,answer:this.$store.state.answer,profile:this.$store.state.profile,dayStreak:this.$store.state.currentPlayer.dayStreak,dayStreakCount:this.$store.state.currentPlayer.dayStreakCount,show:!1,answerStreakEarned:!1,megaStreakEarned:!1,playerClass:window.stream.class}},mounted(){this.$store.dispatch("getTrivia"),this.$store.dispatch("getProfile"),this.$store.dispatch("getCurrentPlayer"),this.$store.dispatch("addStreak",this.dayStreakEarned),this.$store.dispatch("getPoints",{id:this.playerid,streak:this.answerStreak.streak,megaStreak:this.answerStreak.megaStreak,points:this.points+this.answerStreak.streakPoints}),this.$store.dispatch("updateCategoryStats",this.categoryStats),"invitee"==window.stream.class&&setTimeout(t=>{window.stream.connection.send({class:"inviteeFinished",data:!0})},3e3),this.show=!0},computed:{inviteeCompleted(){return this.$store.state.roundComplete},playerid(){return this.$store.state.currentPlayer.profileId},days(){return this.dayStreak+5*this.dayStreakCount},dayStreakEarned(){return(this.dayStreak+5*this.dayStreakCount)%5===0&&{profileId:this.player.profileId,dayStreakCount:this.player.dayStreakCount+1,dayStreak:0}},categoryStats(){let t=this.player.categoryStats.findIndex(t=>t.category==this.category),e=this.player,s=this.player.categoryStats.find(t=>t.category==this.category);return void 0!==s?(this.answer?(e.categoryStats[t].attempted++,e.categoryStats[t].correct++):e.categoryStats[t].attempted++,e):void 0===s?(this.answer?e.categoryStats.push({category:this.category,attempted:e.categoryStats.attempted=1,correct:e.categoryStats.correct=1}):e.categoryStats.push({category:this.category,attempted:e.categoryStats.attempted=1,correct:e.categoryStats.correct=0}),e):void 0},player(){return this.$store.state.currentPlayer},answerStreak(){let t=this.$store.state.currentPlayer.megaStreak,e=this.$store.state.currentPlayer.streak,s=0;return this.answer?e+=1:(e=0,t=0),5===e&&(this.answerStreakEarned=!0,s+=20,e=0,t+=1),5===t&&(this.megaStreakEarned=!0,s+=100,t=0),{streak:e,megaStreak:t,streakPoints:s}},points(){let t=0,e=this.$store.state.trivia.difficulty,s=this.$store.state.answer;return t="easy"==e&&s?5:"medium"==e&&s?10:"hard"==e&&s?20:0,t}},methods:{setParams(t){this.subject=t.subject,this.level=t.level},startPlay(){this.show=!1,this.subject||(this.subject=Math.floor(23*Math.random())+9),this.subject!=this.$store.state.subject&&this.$store.dispatch("setSubject",this.subject),this.level!=this.$store.state.level&&this.$store.dispatch("setLevel",this.level),"inviter"==window.stream.class&&(this.$store.dispatch("inviteeReady",!1),this.$store.dispatch("roundCompleted",!1)),this.$emit("init"),this.subject="",this.level=""},quit(){this.show=!1,n["a"].push({name:"home"})}},components:{Selector:o["a"]}},l=r,c=s("2877"),d=Object(c["a"])(l,a,i,!1,null,"03981d2f",null);e["a"]=d.exports},8271:function(t,e,s){"use strict";e["a"]={gifs:["https://cdn.dribbble.com/users/706471/screenshots/3660298/brain-workout-2.gif","https://exploringyourmind.com/wp-content/uploads/2018/02/gif-of-a-brain-and-its-synapses.gif","https://www.holisticwebpresence.com/wp-content/uploads/2013/12/Web-Presence-Brain-Training.gif","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.dribbble.com%2Fusers%2F428994%2Fscreenshots%2F4898847%2Fbraintraining_dribble.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.assignmentexpert.com%2Fblog%2Fwp-content%2Fuploads%2F2015%2F05%2F240_Logo-EMM.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.prana-yoga-zentrum.de%2Fimages%2F57.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fneurosynthesis.files.wordpress.com%2F2008%2F10%2Fsmall_brain_animated.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.media.inaf.it%2Fwp-content%2Fuploads%2F2017%2F11%2Fprev-nasa-small.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fl0HU5526qfCzI25Q4%2Fgiphy.gif&f=1&nofb=1","https://upload.wikimedia.org/wikipedia/commons/a/ae/Inferior_frontal_gyrus_animation_small.gif"],getGif:function(){let t=this.gifs[Math.floor(Math.random()*this.gifs.length)];return t}}},"88fa":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"peerVideo bg-info"},[s("h3",{staticClass:"mb-0"},[s("span",{staticClass:"badge badge-warning text-truncate my-0",staticStyle:{width:"-webkit-fill-available"},attrs:{id:"peerName"}})]),t._v(" "),s("div",{staticClass:"mt-0"},[s("video",{staticClass:"col-12 mt-0",attrs:{autoplay:"true",id:"peerVideo",poster:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fi3pHUtmHiLd28%2Fgiphy.gif&f=1&nofb=1",controls:""}})])])}],n={name:"peerVideo",data(){return{}},computed:{},methods:{},components:{},beforeDestroy(){}},o=n,r=s("2877"),l=Object(r["a"])(o,a,i,!1,null,"246e0c2a",null);e["a"]=l.exports},"95b0":function(t,e,s){t.exports=s.p+"img/coin.cc0c24bd.gif"},9773:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"selector row mt-3",staticStyle:{"justify-content":"space-evenly"}},[s("div",{staticClass:"col-sm-12 col-md-3 text-warning"},[t._m(0),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],staticClass:"form-control dropDown",staticStyle:{border:"solid 1px white",color:"lightblue",background:"black"},attrs:{name:"category_id"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subject=e.target.multiple?s:s[0]},t.chooseSubject]}},[s("option",[t._v("--- Select Subject ---")]),t._v(" "),s("option",{attrs:{value:"",show:""}},[t._v("Random")]),t._v(" "),s("option",{attrs:{value:"9"}},[t._v("general knowledge")]),t._v(" "),s("option",{attrs:{value:"10"}},[t._v("Books")]),t._v(" "),s("option",{attrs:{value:"11"}},[t._v("Film")]),t._v(" "),s("option",{attrs:{value:"12"}},[t._v("Music")]),t._v(" "),s("option",{attrs:{value:"13"}},[t._v("Musicals & Theatre")]),t._v(" "),s("option",{attrs:{value:"14"}},[t._v("Television")]),t._v(" "),s("option",{attrs:{value:"15"}},[t._v("Video Games")]),t._v(" "),s("option",{attrs:{value:"16"}},[t._v("Board Games")]),t._v(" "),s("option",{attrs:{value:"17"}},[t._v("Science & Nature")]),t._v(" "),s("option",{attrs:{value:"18"}},[t._v("Computers")]),t._v(" "),s("option",{attrs:{value:"19"}},[t._v("Mathematics")]),t._v(" "),s("option",{attrs:{value:"20"}},[t._v("Mythology")]),t._v(" "),s("option",{attrs:{value:"21"}},[t._v("Sports")]),t._v(" "),s("option",{attrs:{value:"22"}},[t._v("Geography")]),t._v(" "),s("option",{attrs:{value:"23"}},[t._v("History")]),t._v(" "),s("option",{attrs:{value:"24"}},[t._v("Politics")]),t._v(" "),s("option",{attrs:{value:"25"}},[t._v("Art")]),t._v(" "),s("option",{attrs:{value:"26"}},[t._v("Celebrities")]),t._v(" "),s("option",{attrs:{value:"27"}},[t._v("Animals")]),t._v(" "),s("option",{attrs:{value:"28"}},[t._v("Vehicles")]),t._v(" "),s("option",{attrs:{value:"29"}},[t._v("Entertainment")]),t._v(" "),s("option",{attrs:{value:"30"}},[t._v("Gadgets")]),t._v(" "),s("option",{attrs:{value:"31"}},[t._v("Japanese Anime & Manga")]),t._v(" "),s("option",{attrs:{value:"32"}},[t._v("Cartoon & Animations")])])]),t._v(" "),s("div",{staticClass:"col-sm-12 col-md-3 text-warning"},[t._m(1),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.level,expression:"level"}],staticClass:"form-control dropDown",staticStyle:{border:"solid 1px white",color:"lightblue",background:"black"},attrs:{name:"category_id"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.level=e.target.multiple?s:s[0]},t.chooseLevel]}},[s("option",[t._v("--- Select Level ---")]),t._v(" "),s("option",{attrs:{value:"",show:""}},[t._v("Random")]),t._v(" "),s("option",{attrs:{value:"easy"}},[t._v("easy")]),t._v(" "),s("option",{attrs:{value:"medium"}},[t._v("medium")]),t._v(" "),s("option",{attrs:{value:"hard"}},[t._v("hard")])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v("  CATEGORY\n    ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fa fa-arrows-v",attrs:{"aria-hidden":"true"}}),t._v("  LEVEL\n    ")])}],n={name:"selector",data(){return{subject:!1,level:!1}},computed:{},methods:{chooseLevel(){this.$emit("setTopic",{level:this.level,subject:this.subject})},chooseSubject(){this.$emit("setTopic",{level:this.level,subject:this.subject})}},components:{}},o=n,r=s("2877"),l=Object(r["a"])(o,a,i,!1,null,"0f7f052a",null);e["a"]=l.exports},"9c0c":function(t,e,s){},a18c:function(t,e,s){"use strict";var a=s("2b0e"),i=s("8c4f"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid gameFont",staticStyle:{"min-height":"100vh"},attrs:{id:"home"}},[s("div",{staticClass:"row justify-content-center pt-3"},[s("div",{staticClass:"col-sm-4 col-md-3"},[s("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{type:"button"},on:{click:t.invite}},[t._m(0)])]),t._v(" "),s("div",{staticClass:"col-sm-4 col-md-3"},[s("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{type:"button"},on:{click:t.join}},[t._m(1)])])]),t._v(" "),s("div",[s("Selector",{key:"select_home",on:{setTopic:function(e){t.setParams(e)}}})],1),t._v(" "),s("div",{staticClass:"row mt-3",staticStyle:{"justify-content":"space-evenly"}},[s("div",{staticClass:"col-xs-12 mt-3"},[s("button",{staticClass:"btn btn-block btn-outline-info",attrs:{type:"button"},on:{click:function(e){t.startPlay()}}},[t._m(2)]),t._v(" "),s("h1",{staticClass:"comeInStyle my-2"},[t._v("MIND YOUR BODY")]),t._v(" "),t._m(3)])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"py-0"},[s("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),t._v("  Invite\n        ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"py-0"},[s("i",{staticClass:"fa fa-handshake-o",attrs:{"aria-hidden":"true"}}),t._v("  Join \n        ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"pt-2 pb-1"},[s("i",{staticClass:"fa fa-superpowers",attrs:{"aria-hidden":"true"}}),t._v("\n          START  \n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fadeBox"},[a("img",{staticClass:"fadeIn",staticStyle:{width:"30vw","border-radius":"90%"},attrs:{src:s("5f9b")}})])}],r=s("9773"),l=(s("8271"),{name:"home",data(){return{level:!1,subject:!1}},computed:{},methods:{alertLogin(){swal({title:"You Must First Login.",icon:"warning",buttons:{confirm:{text:"Okay"}}})},async login(){await this.$auth.loginWithPopup().then(()=>{this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)})},setParams(t){this.subject=t.subject,this.level=t.level},async invite(){if(!this.$auth.isAuthenticated){await this.login();if(!this.$auth.isAuthenticated)return}let t=(Math.random().toString(36)+"0000000000000000000").substr(2,16),e=document.createElement("div");e.className="col-12";let s=document.createElement("h4");s.innerHTML='Send Your Friend The Folowing Link To Join You:<br/><i class="fa fa-key" aria-hidden="true"></i>';let a=document.createElement("textarea");a.className="home-link",a.value=`${window.origin}/#/game/${t}/invitee`,e.appendChild(s),e.appendChild(a),swal({icon:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Ficons.iconarchive.com%2Ficons%2Foxygen-icons.org%2Foxygen%2F256%2FApps-preferences-desktop-notification-icon.png&f=1&nofb=1",content:e,className:"home-swal",buttons:{one:{text:"Cancel",value:!1},zero:{text:"Confirm",value:!0}}}).then(e=>{e?(window.stream=new Object,window.stream.class="inviter",window.stream.myId=t,window.stream.myLink=`${window.origin}/#/game/${t}/invitee`,this.startPlay(),swal.close()):swal.close()})},async join(){if(!this.$auth.isAuthenticated){await this.login();if(!this.$auth.isAuthenticated)return}let t=document.createElement("input");t.id="peerId";let e=(Math.random().toString(36)+"0000000000000000000").substr(2,16);swal({title:"Enter The Id Of The Peer You Want To Join",content:t,className:"home-swal",buttons:!0}).then(t=>{let s=document.getElementById("peerId").value;s?(window.stream=new Object,window.stream.class="invitee",window.stream.myId=e,S.push("/game/"+s+"/invitee"),swal.close()):swal.close()})},async startPlay(){if(this.$auth.isAuthenticated){if(void 0==window.stream&&(window.stream={},window.stream.class=!1),this.subject?this.$store.dispatch("setSubject",this.subject):this.$store.dispatch("setSubject",Math.floor(23*Math.random())+9),this.level)this.$store.dispatch("setLevel",this.level);else{let t=Math.floor(3*Math.random());switch(t){case 0:t="easy";break;case 1:t="medium";break;case 2:t="hard";break;default:t="medium"}this.$store.dispatch("setLevel",t)}if(!this.$store.state.triviaToken){const t=await fetch("https://opentdb.com/api_token.php?command=request");let e=await t.json();this.$store.dispatch("triviaToken",e.token)}this.subject="",this.level="",window.stream.class?S.push("/game/"+window.stream.myId+"/inviter"):S.push({name:"game"})}else this.alertLogin()}},beforeCreate(){},created(){},beforeMount(){},mounted(){this.$store.dispatch("loadLeaders")},components:{Selector:r["a"]}}),c=l,d=(s("cccb"),s("2877")),u=Object(d["a"])(c,n,o,!1,null,null,null),m=u.exports,h=s("6248"),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"game"},[s("div",{staticClass:"container-fluid",staticStyle:{"min-height":"100vh"},attrs:{id:"main"}},[s("div",{staticClass:"row",staticStyle:{display:"flex","justify-content":"space-around"}},[t.invitee?s("div",{staticClass:"col-md-4 mt-1"},[t.displayStart&&t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-info btn-block mb-1",on:{click:t.startGame}},[t._v("START")]):t._e(),t._v(" "),s("Invitee",{key:"inviteeVideostream",on:{inviteeWorkoutComplete:function(){},inviteeWorkout:function(){t.showQuestion=!1,t.exercise=!0},init:function(e){t.init()}}})],1):t._e(),t._v(" "),t.$auth.isAuthenticated?t._e():s("div",{staticClass:"col-12",staticStyle:{"margin-top":"5%"}},[s("button",{staticClass:"btn btn-info btn-block",staticStyle:{"min-height":"50vh","background-image":"radial-gradient(white, blue, black)"},on:{click:t.login}},[t._m(0)])]),t._v(" "),t.inviter?s("div",{staticClass:"col-md-4 mt-1"},[t.displayStart?s("button",{staticClass:"btn btn-info btn-block mb-1",on:{click:t.startGame}},[t._v("START")]):t._e(),t._v(" "),s("Inviter",{key:"inviterVideostream",on:{inviteeReady:function(){t.displayStart=!0}}})],1):t._e(),t._v(" "),t.showQuestion?s("div",{class:t.display},[s("Question",{key:"question",on:{workout:function(e){t.workout()}}})],1):t._e(),t._v(" "),t.exercise?s("div",{class:t.display},[s("Exercise",{key:"workout",on:{workoutcomplete:function(e){t.workoutcomplete()}}})],1):t._e(),t._v(" "),t.answer?s("div",{class:t.display},[s("Answer",{key:"answer",on:{endgame:function(e){t.endgame()}}})],1):t._e(),t._v(" "),t.end?s("div",{class:t.display},[s("Endgame",{key:"endgame",on:{init:function(e){t.init()}}})],1):t._e()])])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"text-dark"},[s("i",{staticClass:"fa fa-user-circle fa-5x",attrs:{"aria-hidden":"true"}}),t._v(" "),s("br"),t._v("LOGIN\n          ")])}],g=s("54dc"),_=g["a"],w=(s("568f"),Object(d["a"])(_,v,p,!1,null,null,null)),f=w.exports,b=(s("4be7"),s("335d")),y=s("1940"),C=s.n(y);a["a"].use(i["a"]);const k=[{path:"/",name:"home",component:m},{path:"/endgame",name:"endgame",component:h["a"]},{path:"/game",name:"game",component:f,beforeEnter:b["b"]},{path:"/players/:id",name:"players",component:h["a"]},{path:"/game/:id/inviter",name:"inviter",component:f,beforeEnter:b["b"]},{path:"/game/:id/invitee",name:"invitee",component:f,beforeEnter:b["b"]},{path:"*",redirect:"/"}],x=new i["a"]({routes:k});var S=e["a"]=x;x.beforeEach((t,e,s)=>{"invitee"==e.name||"inviter"==e.name?(console.log("IN ROUTER"),C()({title:"Are you sure you want to leave Game...You may lose your connection to your peer!",icon:"warning",buttons:{one:{text:"Cancel",value:!1},zero:{text:"Confirm",value:!0}}}).then(t=>{t?(C.a.close(),s()):(s(!1),C.a.close())})):s()})},aa36:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"exercise mt-2"},[t.show?s("div",{staticClass:"card exercise_main",staticStyle:{border:"solid 1px silver"}},[t._m(0),t._v(" "),s("transition",{attrs:{name:"bounce"}},[t.imgExer?s("div",[s("img",{staticClass:"card-img-top mt-1",staticStyle:{"max-width":"100%",width:"auto",height:"auto"},attrs:{src:t.exercise.example,alt:"Exercise Example"}})]):t._e()]),t._v(" "),s("div",{staticClass:"card-body"},[s("h2",{staticClass:"card-title"},[t._v(t._s(t.exercise.title))])]),t._v(" "),s("ul",{staticClass:"list-group list-item bg-dark text-light"},[t.exercise.reps?s("li",{staticClass:"list-group-item"},[s("b",[t._v("Repetitions:")]),t._v("\n        "+t._s(t.exercise.reps)+"\n      ")]):t._e(),t._v(" "),t.exercise.time?s("li",{staticClass:"list-group-item"},[s("b",[t._v("Time:")]),t._v("\n        "+t._s(t.exercise.time)+" seconds\n        "),t.exercise.time?s("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{disabled:t.exerciseTimerDisabled},on:{click:function(e){t.exerciseTimer(),t.exerciseTimerDisabled=!0}}},[t._v("Start Timer")]):t._e()]):t._e(),t._v(" "),t.exercise.notes?s("li",{staticClass:"list-group-item"},[s("b",[t._v("Instructions:")]),t._v("\n        "+t._s(t.exercise.notes)+"\n      ")]):t._e()]),t._v(" "),s("div",{staticClass:"card-body"},[s("button",{staticClass:"btn btn-block btn-outline-info",on:{click:t.getExercise}},[t._v("Get a Different Exercise")]),t._v(" "),s("button",{staticClass:"btn btn-block btn-outline-success",attrs:{disabled:t.isDisabled},on:{click:t.workOutComplete}},[t._v("Finished!")]),t._v(" "),t.cheatTimer?s("span",[t._v("Cheat Guard: "+t._s(t.cheatTimer))]):t._e()])],1):t._e()])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h6",{staticClass:"py-1 my-1 text-info bg-dark",staticStyle:{"font-size":"x-large"}},[s("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}}),t._v("  \n      "),s("span",{attrs:{id:"question"}})])}],n={name:"exercise",data:function(){return{cheatTimer:1,show:!1,isDisabled:!0,exerciseTimerDisabled:!1,exerciseInterval:null,display:"",imgExer:!1}},beforeDestroy(){this.$store.state.exercise={}},beforeMount(){this.show=!0},mounted(){document.getElementById("question").innerHTML=this.$store.state.trivia.question,this.cheatInterval()},computed:{exercise(){if(this.imgExer=!0,"inviter"==window.stream.class){let t={class:"newExercise",exercise:this.$store.state.exercise};window.stream.connection.send(t)}return this.$store.state.exercise}},methods:{getExercise(){this.imgExer=!1,window.stream.class&&window.stream.connection.send({class:"message",message:"Peer has fetched a new exercise."}),this.$store.dispatch("getExercise"),clearInterval(this.exerciseInterval),this.exerciseTimerDisabled=!1,this.isDisabled=!0,0===this.cheatTimer?(this.cheatTimer=15,this.cheatInterval()):this.cheatTimer=15},workOutComplete(){window.stream.class&&window.stream.sendMessage("Your Friend Finished Their Exercise."),this.imgExer=!1,setTimeout(()=>{this.show=!1,this.$emit("workoutcomplete",!0)},600)},cheatInterval(){let t=setInterval(e=>{this.cheatTimer--,0===this.cheatTimer&&(clearInterval(t),this.isDisabled=!1)},1e3)},exerciseTimer(){let t=setInterval(e=>{this.exercise.time--,0===this.exercise.time&&clearInterval(t)},1e3);this.exerciseInterval=t}},components:{}},o=n,r=(s("fdf4"),s("2877")),l=Object(r["a"])(o,a,i,!1,null,"896796d8",null);e["a"]=l.exports},ae05:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"answer"},[t.show?s("div",{staticClass:"row"},[s("div",[t._v(t._s(t.answer()))])]):t._e()])},i=[],n=s("8271"),o={name:"answer",data:function(){return{show:!1,player:this.$store.state.currentPlayer}},methods:{answer(){let t=this.$store.state.trivia.incorrect_answers;t.forEach((t,e,s)=>{let a=document.createElement("span");a.innerHTML=t,s[e]=a.innerText});let e=this.$store.state.trivia.correct_answer,s=document.createElement("div");n["a"].getGif();s.className="col-12";let a=document.createElement("h4");a.innerHTML=""+this.$store.state.trivia.question,s.appendChild(a),swal({content:s,className:"red-bg",closeOnClickOutside:!1,buttons:{zero:{text:t[0],value:t[0]},two:{text:t[1],value:t[1]},three:{text:t[2],value:t[2]},four:{text:t[3],value:t[3]}}}).then(t=>{if(t==e)window.stream.class&&window.stream.sendMessage("Your Friend Answered The Question Successfully."),swal(e+" Is Correct!","","success").then(()=>{this.$emit("endgame",!0),this.$store.state.answer=!0,swal.close()});else{window.stream.class&&window.stream.sendMessage("Your Friend Answered The Question Incorrectly.");let t=document.createElement("div");t.className="col-12";let s=document.createElement("h4");if(s.innerHTML=e+",<br/>is the correct answer!",t.appendChild(s),!this.show)return;swal({content:t,icon:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.philgalfond.com%2Fwp-content%2Fuploads%2Fwronganswer-300x300.jpg&f=1&nofb=1",className:"wrong",closeOnClickOutside:!1}).then(()=>{this.$emit("endgame",!0),this.$store.state.answer=!1,swal.close()})}this.calculateDayStreak(),this.show=!1})},calculateDayStreak(){let t=this.player.prevDate,e=Date.now(),s=new Date(e),a=s.getFullYear(),i=s.getMonth(),n=s.getDate(),o=Date.UTC(a,i,n,12,0);o-t===864e5?this.$store.dispatch("addStreak",{profileId:this.player.profileId,dayStreak:this.player.dayStreak+1,prevDate:o}):o-t>864e5?this.$store.dispatch("addStreak",{profileId:this.player.profileId,dayStreak:1,prevDate:o,dayStreakCount:0}):o===t&&this.$store.dispatch("addStreak",{profileId:this.player.profileId,dayStreak:1})}},beforeDestroy(){this.show=!1,swal.close()},mounted(){this.show=!0,this.$store.dispatch("getCurrentPlayer")}},r=o,l=s("2877"),c=Object(l["a"])(r,a,i,!1,null,"4cafa79b",null);e["a"]=c.exports},b01c:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show?s("div",{staticClass:"question"},[s("div",{staticClass:"row"},[t._v(t._s(t.swalShow()))])]):t._e()},i=[],n=s("8271"),o={name:"question",data:function(){return{show:!1}},methods:{swalShow:function(){let t=document.createElement("div");t.className="col-12";let e=document.createElement("p");e.innerHTML=`<i class="fa fa-tags" aria-hidden="true"></i> &nbsp;${this.$store.state.trivia.category}<br/><br/><i class="fa fa-arrows-v" aria-hidden="true"></i> &nbsp;${this.$store.state.trivia.difficulty}`,t.appendChild(e);let s=document.createElement("h4");s.innerHTML=""+this.$store.state.trivia.question,t.appendChild(s);let a,i=n["a"].getGif();a={quit:{text:"Quit Game",value:!1},startEx:{text:"Start Exercise",value:!0}},swal({content:t,className:"red-bg",icon:i,closeOnClickOutside:!1,buttons:a}).then(t=>{t?(window.stream.class&&stream.sendMessage("Your Friend Started Their Exercise."),this.show=!1,this.$emit("workout",!0),swal.close()):(window.stream.class&&stream.sendMessage("Your Friend Quit On You."),this.$emit("init",!1),this.show=!1,swal.close(),this.$router.push({name:"home"}))})}},beforeDestroy(){swal.close()},mounted(){this.show=!0}},r=o,l=(s("2cda"),s("2877")),c=Object(l["a"])(r,a,i,!1,null,"4cf7a618",null);e["a"]=c.exports},c457:function(t,e,s){},c79b:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inviter video-container"},[s("RemoteVideo",{key:"remoteVideo"}),t._v(" "),s("div",{staticClass:"col-12 bg-dark"},[s("button",{staticClass:"btn btn-outline-info btn-sm bg-light mb-1",on:{click:function(){t.showAllMsg=!t.showAllMsg,t.showLastMsg=!t.showLastMsg}}},[t.showLastMsg?s("i",{staticClass:"fa fa-comments fa-2x",attrs:{"aria-hidden":"true"}}):s("i",{staticClass:"fa fa-comment fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("br"),t._v(" "),t.showLastMsg?s("p",{staticClass:"bg-dark text-info rounded",attrs:{id:"msgOne"}},[t._v(t._s(t.lastMessage))]):t._e(),t._v(" "),t.showAllMsg?s("textarea",{staticClass:"bg-dark text-info pt-1",staticStyle:{"text-align":"center"},attrs:{id:"msgAll",readonly:""},domProps:{value:t.messageString}}):t._e()]),t._v(" "),s("LocalVideo",{key:"localVideo"})],1)},i=[],n=s("3818"),o=s("88fa"),r={name:"inviter",data(){return{messageString:"",lastMessage:"No Messages Yet.",showAllMsg:!1,showLastMsg:!0}},computed:{},methods:{sendMessage(t){let e={class:"message",message:t};window.stream.connection.send(e)},welcomeInvitee(t){let e;e={class:"game",trivia:this.$store.state.trivia,exercise:this.$store.state.exercise},window.stream.connection.send(e),e={class:"name",name:this.$store.state.currentPlayer.name},window.stream.connection.send(e)},respondToInvitee(t){let e;try{switch(t.class){case"inviteeReady":return console.log("IN INVITEE READY"),this.$store.dispatch("inviteeReady",!0),void this.$emit("inviteeReady");case"inviteeFinished":this.$store.dispatch("roundCompleted",!0);break;case"peerName":return document.getElementById("peerName").textContent=t.name,void this.$emit("inviteeReady");case"message":let s=(new Date).toLocaleTimeString(),a=s+" - "+t.message;return this.lastMessage=a,void(this.messageString+=a+"\n");default:e={class:"message",message:"error; make sure to specify class."}}window.stream.connection.send(e)}catch(s){console.log(s)}}},components:{LocalVideo:n["a"],RemoteVideo:o["a"]},created(){},beforeDestroy(){let t,e=!1;try{t=stream.localStream.getTracks(),t.forEach((function(t){t.stop()})),stream.localPeer&&stream.localPeer.destroy()}catch(s){e=!0,console.log(s)}try{t=stream.remoteStream.getTracks(),t.forEach((function(t){t.stop()}))}catch(s){e=s,console.log(s)}window.stream={},window.stream.class=!1},mounted(){window.stream.respondToInvitee=this.respondToInvitee,window.stream.welcomeInvitee=this.welcomeInvitee,window.stream.sendMessage=this.sendMessage,function(){let t=null,e=null,s=null,a=window.stream.myId,i=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;function n(){if(window.stream.localPeer)try{e=window.stream.localPeer,e.reconnect()}catch(n){console.log(n),e=new Peer(a,{secure:!0,debug:2})}else e=new Peer(a,{secure:!0,debug:2});function i(){s.on("open",(function(){console.log("conn opened"),window.stream.connection=s,window.stream.welcomeInvitee()})),s.on("data",(function(t){window.stream.respondToInvitee(t)})),s.on("close",(function(){console.log("Connection reset. Awaiting connection..."),s=null}))}e.on("open",(function(a){null===e.id?e.id=t:t=e.id,window.stream.localPeer=e,e.on("connection",(function(t){s=t,i()})),e.on("disconnected",(function(){console.log("Connection lost. Please reconnect")})),e.on("close",(function(){s=null,console.log("Connection destroyed")})),e.on("error",(function(t){let s="Error: "+t;console.log(s),e.close()})),e.on("call",(function(t){try{let e=window.stream.localStream;t.answer(e),t.on("stream",(function(t){document.getElementById("peerVideo").srcObject=t,window.stream.remoteStream=t}))}catch(n){console.log("Failed to get/send stream "+n)}}))}))}i({video:!0,audio:!0},(function(t){window.stream.localStream=t,document.getElementById("myVideo").srcObject=t}),(function(t){console.log("Failed to get stream "+t)})),n()}()}},l=r,c=s("2877"),d=Object(c["a"])(l,a,i,!1,null,null,null);e["a"]=d.exports},cb50:function(t,e,s){},cccb:function(t,e,s){"use strict";var a=s("5ced"),i=s.n(a);i.a},d500:function(t,e,s){t.exports=s.p+"img/endWrong.97849115.gif"},d7dc:function(t,e,s){t.exports=s.p+"img/spin.767c2065.gif"},e482:function(t,e,s){},fdf4:function(t,e,s){"use strict";var a=s("cb50"),i=s.n(a);i.a},fe14:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invitee video-container"},[s("RemoteVideo",{key:"remoteVideo"}),t._v(" "),s("LocalVideo",{key:"localVideo"}),t._v(" "),s("div",{staticClass:"col-12 bg-dark"},[s("button",{staticClass:"btn btn-outline-info btn-sm bg-light mb-1",on:{click:function(){t.showAllMsg=!t.showAllMsg,t.showLastMsg=!t.showLastMsg}}},[t.showLastMsg?s("i",{staticClass:"fa fa-comments fa-2x",attrs:{"aria-hidden":"true"}}):s("i",{staticClass:"fa fa-comment fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("br"),t._v(" "),t.showLastMsg?s("p",{staticClass:"bg-dark text-info rounded",attrs:{id:"msgOne"}},[t._v(t._s(t.lastMessage))]):t._e(),t._v(" "),t.showAllMsg?s("textarea",{staticClass:"bg-dark text-info pt-1 text-align: center;",attrs:{readonly:"",id:"msgAll"},domProps:{value:t.messageString}}):t._e()])],1)},i=[],n=s("3818"),o=s("88fa"),r={name:"invitee",data(){return{messageString:"",lastMessage:"No Messages Yet.",showAllMsg:!1,showLastMsg:!0}},computed:{},methods:{sendMessage(t){let e={class:"message",message:t};window.stream.connection.send(e)},respondToInviter(t){switch(t.class){case"game":this.$store.dispatch("inviteeExercise",t.exercise),this.$store.dispatch("inviteeTrivia",t.trivia);break;case"beginExercise":swal.close(),this.$emit("inviteeWorkout");break;case"workoutComplete":this.$emit("inviteeWorkoutComplete");break;case"newExercise":this.$store.dispatch("inviteeExercise",t.exercise);break;case"replay":this.$store.dispatch("inviteeExercise",t.exercise),this.$store.dispatch("inviteeTrivia",t.trivia),this.$emit("init");break;case"message":let e=(new Date).toLocaleTimeString(),s=e+" - "+t.message;this.lastMessage=s,this.messageString+=s+"\n";break;case"name":document.getElementById("peerName").textContent=t.name;let a=this.$auth.user.name;window.stream.connection.send({class:"peerName",name:a});break;default:console.log(t)}}},components:{LocalVideo:n["a"],RemoteVideo:o["a"]},beforeDestroy(){let t,e=!1;try{t=stream.localStream.getTracks(),t.forEach((function(t){t.stop()})),stream.localPeer&&stream.localPeer.destroy()}catch(s){e=!0,console.log(s)}try{t=stream.remoteStream.getTracks(),t.forEach((function(t){t.stop()}))}catch(s){e=s,console.log(s)}window.stream={},window.stream.class=!1},mounted(){window.stream.respondToInviter=this.respondToInviter,window.stream.sendMessage=this.sendMessage,function(){let t=null,e=null,s=null,a=window.stream.peerId,i=null,n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;function o(){if(window.stream.localPeer)try{e=window.stream.localPeer,e.reconnect()}catch(a){e=new Peer(null,{secure:!0,debug:2})}else e=new Peer(null,{secure:!0,debug:2});e.on("open",(function(i){null===e.id?(console.log("Received null id from peer open"),e.id=t):(console.log("receieved peer.id"),t=e.id,e.on("connection",(function(t){t.on("open",(function(){t.send("Received A Connection."),console.log("received a connection")}))})),e.on("disconnected",(function(){console.log("Connection lost. Please reconnect").then(t=>{e.id=window.stream.localId,e._lastServerId=window.stream.localId,e.reconnect(),console.log.close()})})),e.on("close",(function(){s=null,console.log("Connection destroyed. Please refresh"),console.log("Connection destroyed")})),e.on("error",(function(t){console.log(t)})),e.on("call",(function(t){try{let e=window.stream.localStream;t.answer(e)}catch(a){console.log("Failed to get/send stream",a)}})),r())}))}function r(){console.log(stream.connection),window.stream.connection&&window.stream.connection.close(),s=e.connect(a,{reliable:!0}),s.on("open",(function(){console.log("Connected to: "+s.peer),window.stream.connection=s;let t=l("command");t&&s.send(t)})),s.on("data",(function(t){window.stream.respondToInviter(t)})),s.on("close",(function(){console.log("Connection closed")})),i=e.call(a,window.stream.localStream),i.on("stream",(function(t){window.stream.remoteStream=t,document.getElementById("peerVideo").srcObject=t}))}function l(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+t+"=([^&#]*)",s=new RegExp(e),a=s.exec(window.location.href);return null==a?null:a[1]}n({video:!0,audio:!0},(function(t){window.stream.localStream=t,document.getElementById("myVideo").srcObject=t}),(function(t){console.log("Failed to get stream",t)})),o()}()}},l=r,c=s("2877"),d=Object(c["a"])(l,a,i,!1,null,null,null);e["a"]=d.exports}});